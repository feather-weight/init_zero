@function multiple-box-shadow($n) {
  $value: "#{random(2000)}px #{random(2000)}px #FFF";
  @for $i from 2 through $n {
    $value: "#{$value}, #{random(2000)}px #{random(2000)}px #FFF";
  }
  @return unquote($value);
}

$shadows-small:  multiple-box-shadow(700);
$shadows-medium: multiple-box-shadow(200);
$shadows-big:    multiple-box-shadow(100);

.starfield {
  position: fixed;
  inset: 0;
  overflow: hidden;
  background-image: var(--bg-url, url('/parallax-dark.png'));
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  z-index: 0;
}

.stars, .stars2, .stars3 {
  position: absolute;
  inset: 0;
  pointer-events: none;
}

/* Scroll parallax on outer wrappers */
.stars  { transform: translateY(calc(var(--scroll, 0px) * var(--star-parallax-s, -0.20))); }
.stars2 { transform: translateY(calc(var(--scroll, 0px) * var(--star-parallax-m, -0.35))); }
.stars3 { transform: translateY(calc(var(--scroll, 0px) * var(--star-parallax-l, -0.55))); }

/* Continuous auto animation on inner layers */
.s1, .s2, .s3 { position: absolute; top: 0; left: 0; right: 0; bottom: 0; }

.s1 {
  width: 1px; height: 1px; background: transparent;
  box-shadow: $shadows-small;
  animation: animStar var(--star-speed-s, 50s) linear infinite;
}
.s1::after {
  content: ""; position: absolute; top: 2000px;
  width: 1px; height: 1px; background: transparent;
  box-shadow: $shadows-small;
}

.s2 {
  width: 2px; height: 2px; background: transparent;
  box-shadow: $shadows-medium;
  animation: animStar var(--star-speed-m, 100s) linear infinite;
}
.s2::after {
  content: ""; position: absolute; top: 2000px;
  width: 2px; height: 2px; background: transparent;
  box-shadow: $shadows-medium;
}

.s3 {
  width: 3px; height: 3px; background: transparent;
  box-shadow: $shadows-big;
  animation: animStar var(--star-speed-l, 150s) linear infinite;
}
.s3::after {
  content: ""; position: absolute; top: 2000px;
  width: 3px; height: 3px; background: transparent;
  box-shadow: $shadows-big;
}

.starTitle {
  position: absolute; inset: 0; display: grid; place-items: center;
  color: #FFF; text-align: center; font-family: 'Lato', sans-serif;
  letter-spacing: 10px;
}
.starTitle h1 { margin: 0; font-weight: 300; font-size: 50px; }
.starTitle span.gradient {
  background: -webkit-linear-gradient(white, #38495a);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

@keyframes animStar {
  from { transform: translateY(0); }
  to   { transform: translateY(-2000px); }
}
